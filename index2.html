<body>
   

    <div class="game-container">
        <h1>Emoji Royale</h1>

        <title>Emoji Royale</title>
        <!-- Emoji Picker -->
        <div id="emoji-picker">
            <button onclick="selectPlayerEmoji('🤍')">🤍 White Heart</button>
            <button onclick="selectPlayerEmoji('⚡')">⚡ Lightning</button>
            <button onclick="selectPlayerEmoji('🐉')">🐉 Dragon</button>
          <button class="emoji" onclick="selectPlayerEmoji('🐆')">🐆 panther </button>
          <button class="emoji" onclick="selectPlayerEmoji('🌙')">🌙 moon </button>
          <button class="emoji" onclick="sAelectPlayerEmoji('🌞')">🌞 sun </button>
          <button class="emoji" onclick="selectPlayerEmoji('😐')">😐 stright face </button>
<button class="emoji" onclick="selectPlayerEmoji('💀')">💀 Skull</button>
<button class="emoji" onclick="selectPlayerEmoji('🥶')">🥶 Sub-Zero</button>
<button class="emoji" onclick="selectPlayerEmoji('🟢')">🟢 Jade</button>
          <button class="emoji" onclick="selectPlayerEmoji('🔥')">🔥 fire</button>
<button class="emoji" onclick="selectPlayerEmoji('🌊')">🌊 rain</button>
            <button onclick="selectPlayerEmoji('🦄')">🦄 Unicorn</button>
            <button onclick="selectPlayerEmoji('🧛‍♂️')">🧛‍♂️ Vampire</button>
            <button onclick="selectPlayerEmoji('👽')">👽 Alien</button>
            <button onclick="selectPlayerEmoji('🦾')">🦾 Robot</button>
            <button onclick="selectPlayerEmoji('🐱')">🐱 Cat</button>
          <button onclick="selectPlayerEmoji('🦊')">🦊 Fox</button>
      <button onclick="selectPlayerEmoji('🦏')">🦏 Rhinoceros </button>
      <button onclick="selectPlayerEmoji('🦓')">🦓 Zebra</button>
      <button onclick="selectPlayerEmoji('👊')">👊 Punch</button>
      <button onclick="selectPlayerEmoji('🤖')">🤖 Robot</button>
      <button onclick="selectPlayerEmoji('🐍')">🐍 Snake</button>
      <button onclick="selectPlayerEmoji('🦂')">🦂 Scorpion</button>
      <button onclick="selectPlayerEmoji('🌪️')">🌪️ Tornado</button>
      <button onclick="selectPlayerEmoji('⏳')">⏳ Time</button>
      <button onclick="selectPlayerEmoji('👑')">👑 King</button>
      <button onclick="selectPlayerEmoji('👹')">👹 Ogre</button>
      <button onclick="selectPlayerEmoji('🦜')">🦜 Parrot</button>
      <button onclick="selectPlayerEmoji('🦢')">🦢 Swan</button>
      <button onclick="selectPlayerEmoji('⚔️')">⚔️ Swords</button>
      <button onclick="selectPlayerEmoji('🩸')">🩸 Blood</button>
      <button onclick="selectPlayerEmoji('🌵')">🌵 Cactus</button>
      <button onclick="selectPlayerEmoji('🦁')">🦁 Lion</button>
      <button onclick="selectPlayerEmoji('🦍')">🦍 Gorilla</button>
      <button onclick="selectPlayerEmoji('🕊️')">🕊️ Dove</button>
      <button onclick="selectPlayerEmoji('🦌')">🦌 Deer</button>
      <button onclick="selectPlayerEmoji('🌑')">🌑 Dark Moon</button>
      <button onclick="selectPlayerEmoji('☄️')">☄️ Meteor</button>
      <button onclick="selectPlayerEmoji('🧞‍♂️')">🧞‍♂️ Genie</button>
      <button onclick="selectPlayerEmoji('🦅')">🦅 Hawk</button>
      <button onclick="selectPlayerEmoji('🎭')">🎭 Mask</button>
      <button onclick="selectPlayerEmoji('🌋')">🌋 Volcano</button>
      <button onclick="selectPlayerEmoji('💎')">💎 Crystal</button>
      <button onclick="selectPlayerEmoji('🎩')">🎩 Magician</button>
      <button onclick="selectPlayerEmoji('🎸')">🎸 Rockstar</button>
      <button onclick="selectPlayerEmoji('☠️')">☠️ Pirate</button>
      <button onclick="selectPlayerEmoji('🌊')">🌊 Tsunami</button>
      <button onclick="selectPlayerEmoji('🕷️')">🕷️ Venom Spider</button>
      <button onclick="selectPlayerEmoji('🧬')">🧬 Mutation</button>
      <button onclick="selectPlayerEmoji('🦖')">🦖 T-Rex</button>
      <button onclick="selectPlayerEmoji('🛸')">🛸 UFO</button>
      <button onclick="selectPlayerEmoji('💣')">💣 Bomb</button>
      <button onclick="selectPlayerEmoji('⚓')">⚓ Sea Captain</button>
      <button onclick="selectPlayerEmoji('🛡️')">🛡️ Guardian Knight</button>
      <button onclick="selectPlayerEmoji('🏹')">🏹 Archer</button>
      <button onclick="selectPlayerEmoji('🥋')">🥋 Martial Artist</button>
      <button onclick="selectPlayerEmoji('🧝')">🧝 Elven Archer</button>
      <button onclick="selectPlayerEmoji('🦹')">🦹 Super Villain</button>
      <button onclick="selectPlayerEmoji('🦸')">🦸 Superhero</button>
      <button onclick="selectPlayerEmoji('🔮')">🔮 Crystal Ball</button>
      <button onclick="selectPlayerEmoji('🧟‍♀️')">🧟‍♀️ Zombie Woman</button>
      <button onclick="selectPlayerEmoji('🧟‍♂️')">🧟‍♂️ Zombie Man</button>
      <button onclick="selectPlayerEmoji('🌌')">🌌 Galaxy</button>
      <button onclick="selectPlayerEmoji('🌠')">🌠 Shooting Star</button>
      <button onclick="selectPlayerEmoji('💥')">💥 Explosion</button>
      <button onclick="selectPlayerEmoji('🧨')">🧨 Dynamite</button>
      <button onclick="selectPlayerEmoji('👨🏿‍⚖️')">👨🏿‍⚖️MLK Jr.</button>  
      <button onclick="selectPlayerEmoji('🦠')">🦠 Virus</button>
      <button onclick="selectPlayerEmoji('🐸')">🐸 tsuyu</button>
      <button onclick="selectPlayerEmoji('🐈‍⬛')">🐈‍⬛ Black Cat</button>
      <button onclick="selectPlayerEmoji('🦕')">🦕 Brachiosaurus</button>
      <button onclick="selectPlayerEmoji('🦛')">🦛 Hippopotamus</button>
      <button onclick="selectPlayerEmoji('🦑')">🦑 Squid</button>
      <button onclick="selectPlayerEmoji('💧')">💧 Suu (Monster Musume)</button>
      <button onclick="selectPlayerEmoji('🦋')">🦋 Shinobu (Demon Slayer)</button>
      <button onclick="selectPlayerEmoji('🪭')">🪭 Yumi</button>
      <button onclick="selectPlayerEmoji('👻')">👻 Ghost</button>
      <button onclick="selectPlayerEmoji('🃏')">🃏 Joker</button>
      <button onclick="selectPlayerEmoji('🍒')">🍒 oppai</button>
      <button onclick="selectPlayerEmoji('💞')">💞 hearts</button>
    <button onclick="selectPlayerEmoji('🐦‍🔥')">🐦‍🔥 jayden A</button>
     <button onclick="selectPlayerEmoji('🥥')"> 🥥 coconut </button>
     <button onclick="selectPlayerEmoji('👨‍💻')"> 👨‍💻  guy coder </button>
    <button onclick="selectPlayerEmoji(' 👩‍💻 ')">  👩‍💻  girl coder </button>   
    <button onclick="selectPlayerEmoji('🐻')">  🐻  grizzlys </button>  
    <button onclick="selectPlayerEmoji('🐬')">  🐬  miami </button>
            


     

<script>
document.getElementById('online-btn').addEventListener('click', () => {
    // Hide single-player elements
    document.getElementById('single-player-ui').style.display = 'none';
    
    // Show online UI / start matchmaking
    document.getElementById('online-ui').style.display = 'block';

    // Connect to server or start waiting for opponent
});
</script>

          
        </div>

        <div id="player-selection">
            <p>Player 1: <span id="player1-emoji">🤍</span> - <span id="player1-health">❤️❤️❤️</span></p>
            <p>Player 2: <span id="player2-emoji">⚡</span> - <span id="player2-health">❤️❤️❤️</span></p>
        </div>

        <!-- Battle Area -->
        <div id="battle-area">
            <p>Choose your emoji to start!</p>
            <div id="battle-result"></div>
            <div id="player1-emoji-selected"></div>
            <div id="player2-emoji-selected"></div>
        </div>
<button id="online-btn">Play Online</button>


        <!-- Buttons for Battle & Changing Emojis -->
        <button id="change-player-btn" onclick="changePlayerEmoji()">Change Player Emoji</button>
        <button id="fight-btn" onclick="startBattle()" disabled>Start Battle</button>

        <!-- Game Over Screen -->
        <div id="game-over" style="display:none;">
            <h2>Game Over!</h2>
            <button onclick="restartGame()">Restart Game</button>
        </div>

        <!-- Real-time USA time display -->
        <div id="real-time"></div>
    </div>

<script src="/socket.io/socket.io.js"></script>
<script>
  const socket = io();

  // Send a move
  function movePlayer(x, y) {
    socket.emit("playerMove", { x, y });
  }

  // Listen for other players' moves
  socket.on("updatePlayer", (data) => {
    console.log("Other player moved:", data);
  });
</script>




    <script src="game.js"></script>
    <style>
    * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    background-color: #222;
    color: grey;
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    flex-direction: column;
}

h1 {
    font-size: 2rem;
    margin-bottom: 20px;
}

.game-container {
    text-align: center;
}

button {
    margin: 10px;
    padding: 10px 20px;
    font-size: 1rem;
    background-color: #444;
    color: white;
    border: 5px solid #888;
    cursor: pointer;
}

button:hover {
    background-color: #888;
}

#battle-area {
    margin-top: 30px;
}

#battle-result {
    font-size: 1.5rem;
    margin-top: 20px;
}

#emoji-picker {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
}

#emoji-picker button {
    width: 120px;
    font-size: 1.5rem;
}

#player-selection {
    margin-top: 20px;
}

#player1-emoji, #player2-emoji {
    font-size: 1.5rem;
}

#player1-health, #player2-health {
    font-size: 1.5rem;
    margin: 10px 0;
}

#game-over {
    color: red;
    font-size: 2rem;
    margin-top: 30px;
}

#game-over button {
    background-color: #444;
    color: white;
    padding: 10px 20px;
    font-size: 1rem;
}

#real-time {
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 1rem;
    color: white;
    background-color: rgba(0, 0, 0, 0.5);
    padding: 5px;


}


</style>
</body>


<div id="scoreboard" style="
  position: fixed;
  bottom: 10px;
  left: 10px;
  background-color: #111;
  color: white;
  padding: 12px;
  border-radius: 10px;
  font-family: monospace;
  box-shadow: 0 0 10px rgba(0,0,0,0.5);
">

<script>
    let player1Emoji = '🤍';
let player2Emoji = '⚡';
let player1Health = 3;
let player2Health = 3;
let gameRunning = false; // Track if the game is running

const emojis = {
     "🤍": { name: "White Heart", attack: "White Out", power: 7 },
    "⚡": { name: "Thunder", attack: "Thunder Strike", power: 8 },
    "🐆": { name: "Panther", attack: "Claw Attack", power: 7 },
    "🐉": { name: "Dragon", attack: "Flame Breath", power: 8 },
    "🌙": { name: "Moon", attack: "Moon Beam", power: 7 },
    "🌞": { name: "Sun", attack: "Solar Flare", power: 7 },
    "🧛‍♂️": { name: "Vampire", attack: "Blood Drain", power: 8 },
    "😐": { name: "Straight Face", attack: "Straight Shot", power: 6 },
    "💀": { name: "Skull", attack: "Skull Bash", power: 7 },
    "🥶": { name: "Sub-Zero", attack: "Ice Blast", power: 8 }, // Sub-Zero emoji with power 8
    "🟢": { name: "Jade", attack: "Jade Slash", power: 6 }, // Jade emoji with power 6
    "🔥": { name: "Fire", attack: "Flame Charge", power: 7 },
    "🌊": { name: "Rain", attack: "Tidal Wave", power: 8 },
    "🦅": { name: "Eagle", attack: "Sky Strike", power: 6 },
    "🦄": { name: "Unicorn", attack: "Magic Horn", power: 9 },
    "🦇": { name: "Bat", attack: "Sonic Scream", power: 6 },
    "🦈": { name: "Shark", attack: "Shark Bite", power: 8 },
    "👽": { name: "Alien", attack: "Laser Beam", power: 7 },
    "🦾": { name: "Cyborg", attack: "Laser Eye", power: 8 },
    "🧙‍♂️": { name: "Wizard", attack: "Fireball", power: 6 },
    "🧜‍♂️": { name: "Merman", attack: "Water Surge", power: 6 },
    "👺": { name: "Demon Mask", attack: "Dark Strike", power: 7 },
    "👹": { name: "Oni", attack: "Demonic Fury", power: 7 },
    "🦊": { name: "Fox", attack: "Swift Strike", power: 6 },
    "🦏": { name: "Rhinoceros", attack: "Horn Smash", power: 7 },
    "🦓": { name: "Zebra", attack: "Stripe Charge", power: 6 },
    "👊": { name: "Punch", attack: "Power Fist", power: 7 },
    "🤖": { name: "Robot", attack: "Rocket Punch", power: 8 },
    "🐍": { name: "Snake", attack: "Venom Bite", power: 7 },
    "🦂": { name: "Scorpion", attack: "Tail Sting", power: 8 },
    "🌪️": { name: "Tornado", attack: "Wind Fury", power: 9 },
    "⏳": { name: "Time", attack: "Time Warp", power: 9 },
    "👑": { name: "King", attack: "Royal Command", power: 9 },
    "🦜": { name: "Parrot", attack: "Echo Call", power: 6 },
    "🦢": { name: "Swan", attack: "Graceful Strike", power: 6 },
    "⚔️": { name: "Swords", attack: "Blade Fury", power: 8 },
    "🩸": { name: "Blood", attack: "Life Drain", power: 7 },
    "🌵": { name: "Cactus", attack: "Spiky Defense", power: 6 },
    "🦁": { name: "Lion", attack: "King’s Roar", power: 9 },
    "🦍": { name: "Gorilla", attack: "Brutal Slam", power: 8 },
    "🕊️": { name: "Dove", attack: "Peaceful Wrath", power: 5 },
    "🦌": { name: "Deer", attack: "Forest Charge", power: 7 },
    "🌑": { name: "Dark Moon", attack: "Eclipse Strike", power: 8 },
    "☄️": { name: "Meteor", attack: "Comet Crush", power: 9 },
    "🧞‍♂️": { name: "Genie", attack: "Wish Grant", power: 10 },
    "🎭": { name: "Mask", attack: "Illusion Strike", power: 7 },
    "🌋": { name: "Volcano", attack: "Eruption", power: 9 },
    "💎": { name: "Crystal", attack: "Diamond Slash", power: 8 },
    "🎩": { name: "Magician", attack: "Trick Shot", power: 6 },
    "🎸": { name: "Rockstar", attack: "Soundwave Blast", power: 7 },
    "☠️": { name: "Pirate", attack: "Cannonball", power: 8 },
    "🕷️": { name: "Venom Spider", attack: "Web Trap", power: 7 },
    "🧬": { name: "Mutation", attack: "Genetic Surge", power: 9 },
    "🦖": { name: "T-Rex", attack: "Jurassic Stomp", power: 10 },
    "🛸": { name: "UFO", attack: "Abduction Beam", power: 8 },
    "💣": { name: "Bomb", attack: "Detonation", power: 9 },
    "⚓": { name: "Sea Captain", attack: "Pirate's Revenge", power: 8 },
    "🛡️": { name: "Guardian Knight", attack: "Shield Bash", power: 7 },
    "🏹": { name: "Archer", attack: "Piercing Shot", power: 6 },
    "🥋": { name: "Martial Artist", attack: "Dragon Kick", power: 7 },
    "🧝": { name: "Elven Archer", attack: "Moonlit Arrow", power: 8 },
    "🦹": { name: "Super Villain", attack: "Evil Plan", power: 9 },
    "🦸": { name: "Superhero", attack: "Heroic Strike", power: 10 },
    "🔮": { name: "Crystal Ball", attack: "Fortune Teller", power: 7 },
    "🧟‍♀️": { name: "Zombie Woman", attack: "Zombie Bite", power: 6 },
    "🧟‍♂️": { name: "Zombie Man", attack: "Zombie Claw", power: 6 },
    "🌌": { name: "Galaxy", attack: "Cosmic Burst", power: 9 },
    "🌠": { name: "Shooting Star", attack: "Meteor Shower", power: 8 },
    "💥": { name: "Explosion", attack: "Big Bang", power: 8 },
    "🧨": { name: "Dynamite", attack: "Blast Wave", power: 9 },
    "👨🏿‍⚖️": { name: "MLK Jr.", attack: "Peaceful Protest", power: 10 },
    "🦠": { name: "Virus", attack: "Infectious Spread", power: 8 },
    "🐸": { name: "tsuyu", attack: "Leap Strike", power: 11 },
    "🐈‍⬛": { name: "Black Cat", attack: "Shadow Pounce", power: 6 },
    "🦕": { name: "Brachiosaurus", attack: "Tail Slam", power: 8 },
    "🦛": { name: "Hippopotamus", attack: "Water Crush", power: 7 },
    "🦑": { name: "Squid", attack: "Ink Blast", power: 6 },
    "🪭": { name: "Yumi", attack: "ice blast", power: 12 },
    "🦋": { name: "Shinobu", attack: "Insect Breathing", power: 11 },
    "💧": { name: "Suu", attack: "Slime Stream", power: 14 },
    "👻": { name: "Ghost", attack: "Phantom Strike", power: 7 },
    "🃏": { name: "Joker", attack: "Wild Card Trick", power: 9 },
    "🍒": { name: "oppai", attack: "Cherry Bomb" , power: 12 },
     "💞": { name: "hearts", attack: "heart attack" , power: 11 },
     "🐦‍🔥": { name: "jayden A ", attack: "chase people", power: 8},
  "🥥": { name: "Coconut", attack: "fall from tree", power: 8 },
   "👨‍💻": { name: "guy coder", attack: "01010110", power: 8 },
   "👩‍💻": { name: "girl coder ", attack: "10101010", power: 8 },
    "🐻": { name: "grizzlys", attack: "eating", power: 8 },
    "🐬": { name: "miami", attack: "2018", power: 9 },

 

  
}

// Select player 1 emoji
function selectPlayerEmoji(emoji) {
    if (document.getElementById("player1-emoji").textContent === emoji) {
        return;
    }
    player1Emoji = emoji;
    document.getElementById("player1-emoji").textContent = player1Emoji;
    document.getElementById("fight-btn").disabled = false;
}

// Select bot's emoji randomly
function selectBotEmoji() {
    const botEmojis = Object.keys(emojis);
    player2Emoji = botEmojis[Math.floor(Math.random() * botEmojis.length)];
    document.getElementById("player2-emoji").textContent = player2Emoji;
}

// Change player's emoji before battle
function changePlayerEmoji() {
    if (gameRunning) {
        gameRunning = false;
        document.getElementById("emoji-picker").style.display = "flex";
        document.getElementById("fight-btn").disabled = true;
        document.getElementById("change-player-btn").disabled = true;
        document.getElementById("continue-btn").style.display = "inline-block";
    }
}

// Start the battle
function startBattle() {
    gameRunning = true;
    document.getElementById("emoji-picker").style.display = "none";
    document.getElementById("fight-btn").disabled = true;

    selectBotEmoji();
    startGame();
}

// Game mechanics
function startGame() {
    let gameInterval = setInterval(() => {
        if (player1Health <= 0 || player2Health <= 0) {
            clearInterval(gameInterval);
            displayGameOver();
        } else {
            battle();
        }
    }, 1500);
}

// Battle between player 1 and player 2 (bot)
function battle() {
    const player1Power = emojis[player1Emoji].power;
    const player2Power = emojis[player2Emoji].power;

    if (player1Power > player2Power) {
        player2Health--;
        document.getElementById("player2-health").textContent = "❤️".repeat(player2Health);
        document.getElementById("battle-result").textContent = `${player1Emoji} wins this round!`;
    } else if (player1Power < player2Power) {
        player1Health--;
        document.getElementById("player1-health").textContent = "❤️".repeat(player1Health);
        document.getElementById("battle-result").textContent = `${player2Emoji} wins this round!`;
    } else {
        document.getElementById("battle-result").textContent = "It's a tie!";
    }
}

// End game if someone wins
function displayGameOver() {
    document.getElementById("game-over").style.display = "block";
    if (player1Health <= 0) {
        document.getElementById("battle-result").textContent = "Bot won! Game Over!";
    } else if (player2Health <= 0) {
        document.getElementById("battle-result").textContent = "Player won! Game Over!";
    }
}

// Restart the game
function restartGame() {
    player1Health = 3;
    player2Health = 3;
    player1Emoji = '🤍';
    player2Emoji = '⚡';

    document.getElementById("player1-emoji").textContent = player1Emoji;
    document.getElementById("player2-emoji").textContent = player2Emoji;
    document.getElementById("player1-health").textContent = "❤️❤️❤️";
    document.getElementById("player2-health").textContent = "❤️❤️❤️";
    document.getElementById("battle-result").textContent = "";
    document.getElementById("game-over").style.display = "none";

    document.getElementById("fight-btn").disabled = false;

    startGame();
}

// Show continue button to resume the game after changing emoji
function continueGame() {
    gameRunning = true;
    document.getElementById("continue-btn").style.display = "none";
    document.getElementById("fight-btn").disabled = false;
}

// Display real-time USA time
function updateRealTime() {
    const currentTime = new Date().toLocaleString('en-US', { timeZone: 'America/New_York' });
    document.getElementById('real-time').textContent = currentTime;
}

// Update real-time every second
setInterval(updateRealTime, 1000);
// Restart the game and wait for user to start battle again
function restartGame() {
    player1Health = 3;
    player2Health = 3;
    player1Emoji = '🤍';
    player2Emoji = '⚡';
    gameRunning = false; // Stop the game after restart

    // Reset UI
    document.getElementById("player1-emoji").textContent = player1Emoji;
    document.getElementById("player2-emoji").textContent = player2Emoji;
    document.getElementById("player1-health").textContent = "❤️❤️❤️";
    document.getElementById("player2-health").textContent = "❤️❤️❤️";
    document.getElementById("battle-result").textContent = "";
    document.getElementById("game-over").style.display = "none";

    // Enable the Start Battle button again
    document.getElementById("fight-btn").disabled = false;
}
// Change player's emoji before battle
function changePlayerEmoji() {
    if (gameRunning) {
        gameRunning = false; // Pause the game
        document.getElementById("battle-result").textContent = "Game Paused! Choose a new emoji.";
    }

    // Show emoji picker again
    document.getElementById("emoji-picker").style.display = "flex";

    // Disable the fight button until a new emoji is chosen
    document.getElementById("fight-btn").disabled = true;
}

let playerWins = 0;
let playerLosses = 0;
let totalBattles = 0;

// Update scoreboard function
function updateScoreboard() {
    document.getElementById("player-wins").textContent = playerWins;
    document.getElementById("player-losses").textContent = playerLosses;
    document.getElementById("total-battles").textContent = totalBattles;
}

// Modify displayGameOver() to update scores
function displayGameOver() {
    document.getElementById("game-over").style.display = "block";

    if (player1Health <= 0) {
        document.getElementById("battle-result").textContent = "You Lost! Game Over!";
        playerLosses++;
    } else if (player2Health <= 0) {
        document.getElementById("battle-result").textContent = "You Won! Game Over!";
        playerWins++;
    }

    totalBattles++;
    updateScoreboard();
}
function battle() {
    const player1Power = emojis[player1Emoji].power;
    const player2Power = emojis[player2Emoji].power;

    if (player1Power > player2Power) {
        player2Health--;
        document.getElementById("player2-health").textContent = "❤️".repeat(player2Health);
        document.getElementById("battle-result").textContent = `${player1Emoji} wins this round!`;
    } else if (player1Power < player2Power) {
        player1Health--;
        document.getElementById("player1-health").textContent = "❤️".repeat(player1Health);
        document.getElementById("battle-result").textContent = `${player2Emoji} wins this round!`;
    } else {
        // 50/50 chance to determine the winner if it's a tie
        if (Math.random() < 0.5) {
            player2Health--;
            document.getElementById("player2-health").textContent = "❤️".repeat(player2Health);
            document.getElementById("battle-result").textContent = `It was a tie, but ${player1Emoji} wins this round!`;
        } else {
            player1Health--;
            document.getElementById("player1-health").textContent = "❤️".repeat(player1Health);
            document.getElementById("battle-result").textContent = `It was a tie, but ${player2Emoji} wins this round!`;
        }
    }
}




function createEmojiAd() {
    const emojiAds = ['🛒', '🥕', '🍔', '🌭', '🍟', '🍕', '🥗', '🍣', '🍩', '🍪', '🍫', '🍭', '🍬', '🍿', '🍷', '🍹', '🍺', '🏆', '🎖️', '🎗️', '🔑', '💡', '📸', '📱', '💻', '🎮', '🎲', '🎵', '🎷', '🎺', '🎸', '🥁', '🎭', '🎬', '🚀', '🛸', '⚓', '🏹', '🎯', '💣', '🔮', '🕹️', '🛠️', '🔧', '🔨', '⏳', '⌛', '🎈', '🎀', '🎁', '💌', '🔔', '📢', '💎', '💰', '💳', '💼', '🔑', '🚪', '📦', '🔗', '🔒', '🔓', '🌞', '🌜', '🌚', '🌕', '🌑', '🌍', '🌎', '🌏', '🌪', '🌈', '🌻', '🌹', '🌺', '🌼', '🌷', '🌸', '💐', '🍁', '🍂', '🍃', '🌿', '🍀', '🍒', '🍓', '🍑', '🍍', '🥥', '🍉', '🍋', '🍊', '🍌', '🍍', '🍒', '🍇', '🥝', '🍑', '🍓', '🍉', '🍋', '🍋', '🍍', '🍊', '🍉', '🍑', '🍇', '🍒', '🍆', '🍅', '🥒', '🌶', '🧅', '🥬', '🥔', '🍠', '🍟', '🍔', '🍗', '🥩', '🥓', '🍳', '🍕', '🌮', '🌯', '🥙', '🍲', '🍜', '🍝', '🍣', '🥗', '🍱', '🥘', '🍛', '🍝', '🥚', '🍪', '🍩', '🍫', '🍬', '🍭', '🍯', '🍮', '🍒', '🍉', '🍇', '🍎', '🍊', '🍒', '🥒', '🥦', '🍇', '🍏', '🍌', '🥕', '🍠', '🍏', '🌰', '🧀', '🍗', '🥩', '🍖', '🍟', '🍠', '🍞', '🥐', '🥖', '🍞', '🍰', '🍥', '🍫', '🍬', '🍪', '🍩', '🍮', '🍰', '🍻', '🍷', '🥂', '🍺', '🥃', '🍸', '🍹', '🍷', '🍾', '🍽️', '🥄', '🍴', '🥢', '🍧', '🍨', '🍦', '🍡', '🍢', '🍣', '🍤', '🍖', '🥩', '🍔', '🌭', '🍿', '🥨', '🥞', '🥓', '🍟', '🍞', '🍪', '🍩', '🎯', '🎲', '🎯', '🎲', '🔮', '🎷', '🎸', '🎹', '🎤', '🎧', '🎶', '🎵', '🎼', '🎧', '📯', '🎷', '🎺', '🎻', '🎬', '🎤', '🎧', '🕹️', '🎮', '📸', '📱', '💻', '🖥️', '🎥', '🎞️', '📀', '📀', '📹', '🎙️', '🧭', '📡', '🧳', '💼', '🎒', '👛', '👜', '🧳', '👝', '🎒', '🗺️', '🗺️', '🛋️', '🛏️', '🚪', '🚪', '🚽', '🛁', '🧴', '🧻', '🧷', '🧹', '🧺', '🧼', '🧽', '🧴', '🧻', '🧼', '🧽', '🧷', '🎩', '👒', '🧢', '🎓', '👑', '💍', '🕶️', '👓', '🧤', '🧣', '👗', '👚', '👕', '👖', '👙', '👘', '👠', '👡', '👢', '👞', '👟', '🥿', '🧳', '👜', '👛', '👝', '🎒', '👑', '👓', '🕶️', '👒', '🎩', '🎓', '👗', '👚', '👕', '👖', '👙', '👘', '👠', '👡', '👢', '👞', '👟', '🥿', '🎩', '👒', '🧢', '🎓', '👑', '💍', '🕶️', '👓', '🧤', '🧣', '👗', '👚', '👕', '👖', '👙', '👘', '👠', '👡', '👢', '👞', '👟', '🥿']; // Add more emojis if needed
    const emoji = emojiAds[Math.floor(Math.random() * emojiAds.length)];
    
    const ad = document.createElement('div');
    ad.textContent = emoji;
    ad.style.position = 'fixed';
    ad.style.fontSize = '3rem';
    ad.style.zIndex = '1000';
    ad.style.top = Math.random() * window.innerHeight + 'px';
    ad.style.left = Math.random() * window.innerWidth + 'px';
    ad.style.transition = 'opacity 0.5s ease-in-out';
    
    document.body.appendChild(ad);
    
    setTimeout(() => {
        ad.style.opacity = '0';
        setTimeout(() => ad.remove(), 500);
    }, 2000);
}

function startEmojiAds() {
    setInterval(createEmojiAd, Math.random() * 5000 + 3000); // Ads appear every 3-8 seconds randomly
}

startEmojiAds();


// Create and initialize the scoreboard
const scoreboard = {
    wins: parseInt(localStorage.getItem('wins')) || 0,
    losses: parseInt(localStorage.getItem('losses')) || 0,
    totalGames: parseInt(localStorage.getItem('totalGames')) || 0,
};

// Function to update the scoreboard display
function updateScoreboard() {
    document.getElementById('wins').innerText = scoreboard.wins;
    document.getElementById('losses').innerText = scoreboard.losses;
    document.getElementById('totalGames').innerText = scoreboard.totalGames;
}

// Function to update and store the scoreboard values
function updateGameResult(result) {
    scoreboard.totalGames++;
    if (result === 'win') {
        scoreboard.wins++;
    } else if (result === 'loss') {
        scoreboard.losses++;
    }
    
    // Save to localStorage
    localStorage.setItem('wins', scoreboard.wins);
    localStorage.setItem('losses', scoreboard.losses);
    localStorage.setItem('totalGames', scoreboard.totalGames);
    
    updateScoreboard();
}

// Function to reset scoreboard
function resetScoreboard() {
    localStorage.clear();
    scoreboard.wins = 0;
    scoreboard.losses = 0;
    scoreboard.totalGames = 0;
    updateScoreboard();
}

// Call this function on page load to ensure the scoreboard displays the correct values
document.addEventListener("DOMContentLoaded", updateScoreboard);

function battle() {
    const player1Power = emojis[player1Emoji].power;
    const player2Power = emojis[player2Emoji].power;

    if (player1Power > player2Power) {
        player2Health--;
        document.getElementById("player2-health").textContent = "❤️".repeat(player2Health);
        document.getElementById("battle-result").textContent = `${player1Emoji} wins this round!`;
    } else if (player1Power < player2Power) {
        player1Health--;
        document.getElementById("player1-health").textContent = "❤️".repeat(player1Health);
        document.getElementById("battle-result").textContent = `${player2Emoji} wins this round!`;
    } else {
        // 50/50 chance for a tiebreaker
        if (Math.random() < 0.5) {
            player2Health--;
            document.getElementById("player2-health").textContent = "❤️".repeat(player2Health);
            document.getElementById("battle-result").textContent = `It was a tie, but ${player1Emoji} wins this round!`;
        } else {
            player1Health--;
            document.getElementById("player1-health").textContent = "❤️".repeat(player1Health);
            document.getElementById("battle-result").textContent = `It was a tie, but ${player2Emoji} wins this round!`;
        }
    }

    // 1/3 chance to regain a heart
    if (Math.random() < 0.333) {
        player1Health++;
        document.getElementById("player1-health").textContent = "❤️".repeat(player1Health);
        document.getElementById("battle-result").textContent += " 🎉 Lucky! You regained a heart!";
    }

    // Check for game over
    if (player1Health <= 0 || player2Health <= 0) {
        displayGameOver();
    }
}

let luckyHeartGained = false; // Track if a lucky heart was gained

function restartGame() {
    // Reset game variables
    player1Health = 3;
    player2Health = 3;
    player1Emoji = '🤍';
    player2Emoji = '⚡';
    gameRunning = false;
    luckyHeartGained = false; // Reset lucky heart status

    // Reset UI elements
    document.getElementById("player1-emoji").textContent = player1Emoji;
    document.getElementById("player2-emoji").textContent = player2Emoji;
    document.getElementById("player1-health").textContent = "❤️❤️❤️";
    document.getElementById("player2-health").textContent = "❤️❤️❤️";
    document.getElementById("battle-result").textContent = "";
    document.getElementById("game-over").style.display = "none";

    // Enable the Start Battle button again
    document.getElementById("fight-btn").disabled = false;
}
function battle() {
    const player1Power = emojis[player1Emoji].power;
    const player2Power = emojis[player2Emoji].power;

    if (player1Power > player2Power) {
        player2Health--;
        document.getElementById("player2-health").textContent = "❤️".repeat(player2Health);
        document.getElementById("battle-result").textContent = `${player1Emoji} wins this round!`;
    } else if (player1Power < player2Power) {
        player1Health--;

        // 1/5 chance to regain a heart
        if (Math.random() < 0.2) {
            player1Health++;
            luckyHeartGained = true; // Track that a lucky heart was gained
            document.getElementById("battle-result").textContent = "Lucky Heart! You regained a heart!";
        }

        document.getElementById("player1-health").textContent = "❤️".repeat(player1Health);
    } else {
        document.getElementById("battle-result").textContent = "It's a tie!";
    }
}

function battle() {
    const player1Power = emojis[player1Emoji].power;
    const player2Power = emojis[player2Emoji].power;

    if (player1Power > player2Power) {
        player2Health--;
        document.getElementById("player2-health").textContent = "❤️".repeat(player2Health);
        document.getElementById("battle-result").textContent = `${player1Emoji} wins this round!`;
    } else if (player1Power < player2Power) {
        player1Health--;
        document.getElementById("player1-health").textContent = "❤️".repeat(player1Health);
        document.getElementById("battle-result").textContent = `${player2Emoji} wins this round!`;
    } else {
        // 50/50 chance to lose a heart
        const loseHeart = Math.random() < 0.5; // Generates true or false randomly

        if (loseHeart) {
            // Randomly choose who loses a heart
            if (Math.random() < 0.5) {
                player1Health--;
                document.getElementById("player1-health").textContent = "❤️".repeat(player1Health);
                document.getElementById("battle-result").textContent = `It's a tie! ${player1Emoji} lost a heart!`;
            } else {
                player2Health--;
                document.getElementById("player2-health").textContent = "❤️".repeat(player2Health);
                document.getElementById("battle-result").textContent = `It's a tie! ${player2Emoji} lost a heart!`;
            }
        } else {
            document.getElementById("battle-result").textContent = "It's a tie! No one lost a heart.";
        }
    }
}

function battle() {
    const player1Power = emojis[player1Emoji].power;
    const player2Power = emojis[player2Emoji].power;

    if (player1Power > player2Power) {
        player2Health--;
        document.getElementById("player2-health").textContent = "❤️".repeat(player2Health);
        document.getElementById("battle-result").textContent = `${player1Emoji} wins this round!`;
    } else if (player1Power < player2Power) {
        player1Health--;
        document.getElementById("player1-health").textContent = "❤️".repeat(player1Health);
        document.getElementById("battle-result").textContent = `${player2Emoji} wins this round!`;
    } else {
        // 50/50 chance to determine the winner if it's a tie
        if (Math.random() < 0.5) {
            player2Health--;
            document.getElementById("player2-health").textContent = "❤️".repeat(player2Health);
            document.getElementById("battle-result").textContent = `It was a tie, but ${player1Emoji} wins this round!`;
        } else {
            player1Health--;
            document.getElementById("player1-health").textContent = "❤️".repeat(player1Health);
            document.getElementById("battle-result").textContent = `It was a tie, but ${player2Emoji} wins this round!`;
        }
    }

    // 50% chance to regain a heart (no limit on hearts)
    if (Math.random() < 0.5) {
        if (Math.random() < 0.5) {
            player1Health++;
            document.getElementById("player1-health").textContent = "❤️".repeat(player1Health);
            document.getElementById("battle-result").textContent += " You gained a heart!";
        } else {
            player2Health++;
            document.getElementById("player2-health").textContent = "❤️".repeat(player2Health);
            document.getElementById("battle-result").textContent += " The bot gained a heart!";
        }
    }
}
function tryGainHeart(currentHearts) {
  if (Math.random() < 1 / 3) {
    currentHearts++;

    // Show lucky heart message
    const message = document.getElementById("message");
    message.textContent = "💖 Lucky! You gained a heart!";
    message.style.display = "block";

    // Hide message after 2 seconds
    setTimeout(() => {
      message.style.display = "none";
    }, 2000);

    // Update heart display
    const heartContainer = document.getElementById("hearts");
    heartContainer.innerHTML = "";
    for (let i = 0; i < currentHearts; i++) {
      const heart = document.createElement("span");
      heart.textContent = "❤️";
      heartContainer.appendChild(heart);
    }
  }

  return currentHearts;
}
function botLuckyHeartCheck() {
  const luckyChance = Math.floor(Math.random() * 3); // 0, 1, or 2
  if (luckyChance === 0) {
    botHearts++;
    showBotLuckyHeartMessage();
    updateBotHeartsDisplay();
  }
}

function showBotLuckyHeartMessage() {
  const msgDiv = document.getElementById("bot-lucky-heart-msg");
  msgDiv.textContent = "🤖 Bot got a lucky heart!";
  msgDiv.style.display = "block";

  setTimeout(() => {
    msgDiv.style.display = "none";
  }, 2000);
}

function updateBotHeartsDisplay() {
  const heartContainer = document.getElementById("bot-hearts");
  heartContainer.innerHTML = "";
  for (let i = 0; i < botHearts; i++) {
    const heart = document.createElement("span");
    heart.textContent = "❤️";
    heartContainer.appendChild(heart);
  }
}
let matchesPlayed = 0;
let wins = 0;
let losses = 0;

function updateScoreboard() {
  document.getElementById("matches-played").textContent = matchesPlayed;
  document.getElementById("wins").textContent = wins;
  document.getElementById("losses").textContent = losses;

  let ratio = losses === 0 ? wins : (wins / losses);
  document.getElementById("wl-ratio").textContent = ratio.toFixed(2);
}

// Call these functions in your game logic where needed:
function playerWon() {
  wins++;
  matchesPlayed++;
  updateScoreboard();
}

function playerLost() {
  losses++;
  matchesPlayed++;
  updateScoreboard();
}


// install: npm install express socket.io
const express = require("express");
const http = require("http");
const { Server } = require("socket.io");

const app = express();
const server = http.createServer(app);
const io = new Server(server);

app.use(express.static("public")); // your HTML/JS files in "public" folder

io.on("connection", (socket) => {
    console.log("A user connected:", socket.id);

    socket.on("playerMove", (data) => {
        // broadcast move to everyone else
        socket.broadcast.emit("updatePlayer", data);
    });

    socket.on("disconnect", () => {
        console.log("User disconnected:", socket.id);
    });
});

server.listen(3000, () => {
    console.log("Server running on http://localhost:3000");
});


</script>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Play Online Demo</title>
  <style>
    body { font-family: Arial, sans-serif; background: #111; color: #fff; text-align: center; }
    #online-ui, #game-ui { display: none; margin-top: 20px; }
    button { padding: 10px 20px; font-size: 16px; cursor: pointer; }
  </style>
</head>
<body>
 
  <!-- Online Lobby -->
  <div id="online-ui">
    <p>Searching for opponent...</p>
    <p id="status">Waiting...</p>
  </div>

  <!-- Game Screen -->
  <div id="game-ui">
    <h2>Match Found!</h2>
    <p>You vs <span id="opponent"></span></p>
    <button id="restart">Restart</button>
  </div>

  <script>
    const menu = document.getElementById("menu");
    const onlineUI = document.getElementById("online-ui");
    const gameUI = document.getElementById("game-ui");
    const status = document.getElementById("status");
    const opponentSpan = document.getElementById("opponent");
    const restartBtn = document.getElementById("restart");

    document.getElementById("online-btn").addEventListener("click", () => {
      menu.style.display = "none";
      onlineUI.style.display = "block";
      
      // Simulate matchmaking
      let dots = 0;
      let interval = setInterval(() => {
        dots = (dots + 1) % 4;
        status.textContent = "Searching" + ".".repeat(dots);
      }, 500);

      setTimeout(() => {
        clearInterval(interval);
        onlineUI.style.display = "none";
        gameUI.style.display = "block";
        opponentSpan.textContent = "Player_" + Math.floor(Math.random() * 1000);
      }, 3000); // 3 sec fake matchmaking
    });

    restartBtn.addEventListener("click", () => {
      gameUI.style.display = "none";
      menu.style.display = "block";
    });
  </script>
</body>
</html>
